<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GROW-WIN v125.0 - KANGAROO CORE</title>
    <style>
        :root { --neon: #39d353; --bg: #010409; --card: #0d1117; --blue: #58a6ff; --gold: #f2cc60; --purple: #bc8cff; }
        body { font-family: 'JetBrains Mono', monospace; background: var(--bg); color: #c9d1d9; padding: 20px; line-height: 1.5; }
        .container { max-width: 1100px; margin: auto; background: var(--card); padding: 40px; border-radius: 28px; border: 1px solid #30363d; box-shadow: 0 0 120px rgba(88, 166, 255, 0.15); }
        .header { text-align: center; border-bottom: 2px solid #21262d; padding-bottom: 20px; margin-bottom: 30px; }
        .brand { font-size: 3.2rem; font-weight: 900; letter-spacing: 12px; color: var(--blue); text-transform: uppercase; margin: 0; }
        .motto { color: var(--gold); font-size: 0.85rem; letter-spacing: 2px; margin-top: 15px; font-weight: bold; }
        .status-bar { display: flex; justify-content: space-between; font-size: 0.7rem; color: var(--neon); margin-bottom: 10px; border: 1px solid #30363d; padding: 5px 15px; border-radius: 5px; background: #000; }
        textarea { width: 100%; height: 120px; background: #000; color: var(--neon); border: 2px solid #30363d; padding: 20px; border-radius: 15px; font-size: 1rem; outline: none; box-sizing: border-box; resize: none; }
        .btn-group { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; }
        button { padding: 18px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; font-size: 0.75rem; transition: 0.3s; }
        .solve-btn { background: var(--blue); color: #fff; }
        .crack-btn { background: var(--purple); color: #fff; }
        .logic-btn { background: var(--gold); color: #000; }
        .ascension-btn { background: linear-gradient(90deg, #58a6ff, #bc8cff); color: #fff; grid-column: span 2; }
        .vault-btn { background: #21262d; color: #fff; }
        .result-panel { display: none; margin-top: 30px; padding: 35px; border: 2px solid var(--blue); border-radius: 22px; background: #161b22; }
        .key-val { font-size: 1.2rem; color: var(--neon); font-weight: 800; margin: 20px 0; border-left: 5px solid var(--blue); padding-left: 15px; white-space: pre-wrap; word-break: break-all; }
        .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 25px; }
        .stat-item { background: #0d1117; padding: 18px; border-radius: 12px; border: 1px solid #30363d; text-align: center; }
        .label { font-size: 0.6rem; color: #8b949e; display: block; }
        .data { font-size: 0.8rem; color: var(--gold); font-weight: bold; }
        .sys-log { font-size: 0.75rem; color: #8b949e; margin-top: 20px; background: #000; padding: 10px; border-radius: 8px; max-height: 100px; overflow-y: auto; border: 1px solid #21262d; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 class="brand">GROW-WIN v125.0</h1>
        <div style="color:var(--purple); font-size:0.8rem; font-weight: bold; letter-spacing: 5px;">MASTER ARCHITECT: UDAYANA ANANTH KUMAR</div>
        <div class="motto">NEURAL ENGINE MOTTO: INTEGRATING LOGIC COMPUTING INTO ALL INDUSTRIES.</div>
    </div>

    <div class="status-bar">
        <span>CORE_STATUS: 100Cr_LOGIC_READY</span>
        <span>NEURAL_GRID: ENHANCED</span>
        <span id="workerStatus">WORKER_THREADS: STANDBY</span>
    </div>

    <textarea id="eqInput" placeholder="Enter logic parameters here... (e.g., base=3 target=205891132094649 mod=12345678901234567891)"></textarea>
    
    <div class="btn-group">
        <button class="solve-btn" onclick="runNavigator()">Navigator</button>
        <button class="crack-btn" onclick="runKangaroo()">Kangaroo Logic</button>
        <button class="logic-btn" onclick="runStability()">Stability</button>
        <button class="solve-btn" style="background:#000; border:1px solid var(--blue); color:var(--blue)" onclick="cloudLink()">Cloud Link</button>
        <button class="ascension-btn" onclick="initAscension()">Initiate Ascension Pulse</button>
        <button class="vault-btn" onclick="vaultData()">Vault Export</button>
    </div>

    <div id="resPanel" class="result-panel">
        <div id="finalResult" class="key-val">---</div>
        <div class="stats">
            <div class="stat-item"><span class="label">Logic Mode</span><span id="modeData" class="data">---</span></div>
            <div class="stat-item"><span class="label">Industry Stream</span><span id="resData" class="data">---</span></div>
            <div class="stat-item"><span class="label">Compute Time</span><span id="timeData" class="data">---</span> MS</div>
        </div>
        <div class="sys-log" id="sysLog">> KANGAROO NEURAL CORE v125.0 INITIALIZED.</div>
    </div>
</div>

<script>
const workerCode = `
    self.onmessage = function(e) {
        let { b, t, m, limit, id } = e.data;
        const base = BigInt(b), target = BigInt(t), mod = BigInt(m);

        function powMod(base, exp, mod) {
            let res = 1n; base %= mod;
            while (exp > 0n) {
                if (exp % 2n === 1n) res = (res * base) % mod;
                base = (base * base) % mod;
                exp /= 2n;
            }
            return res;
        }

        const trapPoints = new Map();
        const jumps = [];
        for(let i=0; i<64; i++) jumps.push(2n**BigInt(i % 32));

        // Tame Kangaroo: Sectoring for 100 Crore range
        let tameExp = BigInt(id) * BigInt(limit) * 15n; 
        let tamePos = powMod(base, tameExp, mod);
        
        for (let i = 0; i < limit; i++) {
            let step = jumps[Number(tamePos % 64n)];
            tameExp += step;
            tamePos = (tamePos * powMod(base, step, mod)) % mod;
            // Density optimization for 100Cr steps
            if (tamePos % 800n === 0n) trapPoints.set(tamePos.toString(), tameExp);
        }

        let wildExp = 0n, wildPos = target;
        // Search limit expanded to hit 1.2 Billion operations total
        let searchLimit = limit * 10; 
        for (let j = 0; j < searchLimit; j++) {
            let step = jumps[Number(wildPos % 64n)];
            wildExp += step;
            wildPos = (wildPos * powMod(base, step, mod)) % mod;
            if (trapPoints.has(wildPos.toString())) {
                let dLog = trapPoints.get(wildPos.toString()) - wildExp;
                while (dLog < 0n) dLog += (mod - 1n);
                self.postMessage({found: true, result: dLog.toString()});
                return;
            }
        }
        self.postMessage({found: false});
    };
`;

let activeWorkers = [];

function runKangaroo() {
    const t0 = performance.now();
    const input = document.getElementById('eqInput').value;
    if(!input) return;

    const b = input.match(/base=(\d+)/)?.[1] || 3;
    const t = input.match(/target=(\d+)/)?.[1] || 205891132094649;
    const m = input.match(/mod=(\d+)/)?.[1] || 12345678901234567891;
    
    document.getElementById('workerStatus').innerText = "WORKER_THREADS: 1.2Bn_DENSITY_ACTIVE";
    showResult("ASCENDING TO 100 CRORE LOGIC GRID...", t0, "KANGAROO_ULTRA_v125", "MULTI_INDUSTRIAL_NEURAL");
    
    activeWorkers.forEach(w => w.terminate());
    activeWorkers = [];
    let isFound = false;
    const blob = new Blob([workerCode], { type: 'application/javascript' });

    for (let i = 0; i < 4; i++) {
        const w = new Worker(URL.createObjectURL(blob));
        w.onmessage = function(e) {
            if (e.data.found && !isFound) {
                isFound = true;
                activeWorkers.forEach(wrk => wrk.terminate());
                showResult(`LOGIC RESULT (x) = ${e.data.result}\\nMODULUS = ${m}\\n(Billion Step Success!)`, t0, "KANGAROO_ULTRA_v125", "LOGIC_COMPUTING");
                document.getElementById('workerStatus').innerText = "WORKER_THREADS: STANDBY";
            } else if (!isFound && i === 3) {
                setTimeout(() => {
                    if(!isFound) showResult("1.2Bn SCAN COMPLETE. RESULT BEYOND CURRENT DEPTH.", t0, "KANGAROO_ULTRA_v125", "LOGIC_COMPUTING");
                }, 1000);
            }
        };
        // 32M * 4 workers * 10x wild jump = 1.28 Billion Step Capacity
        w.postMessage({ b, t, m, limit: 32000000, id: i });
        activeWorkers.push(w);
    }
}

function runNavigator() {
    const t0 = performance.now();
    const input = document.getElementById('eqInput').value;
    if(!input) return;
    const r = parseFloat(input.match(/r=([\d.]+)/)?.[1] || 7000);
    const v = Math.sqrt(398600.44 / r);
    showResult(`ORBITAL ANALYSIS:\\nRADIUS: ${r} KM\\nVELOCITY: ${v.toFixed(4)} KM/S`, t0, "SPACE_NAV", "SPACE_EXPLORATION");
}

function runStability() {
    const t0 = performance.now();
    const input = document.getElementById('eqInput').value;
    if(!input) return;
    const r = parseFloat(input.match(/r=([\d.]+)/)?.[1] || 1.122);
    const pot = 4 * (Math.pow(1/r, 12) - Math.pow(1/r, 6));
    showResult(`MOLECULAR STABILITY:\\nL-J POTENTIAL: ${pot.toFixed(6)} eV\\nSTATUS: ${pot < 0 ? 'STABLE' : 'UNSTABLE'}`, t0, "LJ_POTENTIAL", "DRUG_DISCOVERY");
}

async function cloudLink() {
    const t0 = performance.now();
    const input = document.getElementById('eqInput').value;
    if(!input) return;
    const name = input.match(/spectra=([a-zA-Z0-9]+)/)?.[1] || "aspirin";
    showResult(`FETCHING SPECTRA...`, t0, "CLOUD_FETCH", "DRUG_DISCOVERY");
    try {
        const res = await fetch(`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/${name}/JSON`);
        const data = await res.json();
        showResult(`PUBCHEM DATA RETRIEVED.\\nCID: ${data.PC_Compounds[0].id.id.cid}`, t0, "CLOUD_SUCCESS", "DRUG_DISCOVERY");
    } catch(e) { showResult("CLOUD LINK FAILED.", t0, "CLOUD_ERROR", "DRUG_DISCOVERY"); }
}

function initAscension() { runKangaroo(); }
function vaultData() { alert("MASTER ARCHITECT: Data Exported to Neural Vault."); }

function showResult(res, t0, mode, type) {
    document.getElementById('resPanel').style.display = 'block';
    document.getElementById('finalResult').innerText = res;
    document.getElementById('modeData').innerText = mode;
    document.getElementById('resData').innerText = type;
    document.getElementById('timeData').innerText = (performance.now() - t0).toFixed(2);
    document.getElementById('sysLog').innerHTML += `<br>> [${mode}] Active at ${new Date().toLocaleTimeString()}`;
}
</script>
</body>
</html>
